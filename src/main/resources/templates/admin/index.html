<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html lang="zh-cn" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <base th:href="@{/}" href="">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <title>立衡脊柱-门户主页</title>
    <link rel="stylesheet" type="text/css" th:href="@{/lib/semantic/semantic.min.css}" href="../../static/lib/semantic/semantic.min.css" />
    <link rel="stylesheet" th:href="@{/lib/toastr/toastr.css}" href="../../static/lib/toastr/toastr.css" />
    <link rel="stylesheet" type="text/css" th:href="@{/admin/css/admin.css}" href="../../static/admin/css/admin.css" />
    <script type="text/javascript" th:src="@{/lib/jquery-1.11.1.min.js}" src="../../static/lib/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" th:src="@{/lib/jquery.tmpl.min.js}" src="../../static/lib/jquery.tmpl.min.js"></script>
    <script type="text/javascript" th:src="@{/lib/semantic/semantic.min.js}" src="../../static/lib/semantic/semantic.min.js"></script>
    <script th:src="@{/lib/toastr/toastr.js}" src="../../static/lib/toastr/toastr.js"></script>
    <script type="text/javascript" th:src="@{/admin/js/admin.js}" src="../../static/admin/js/admin.js"></script>
    <script id="imageItemTpl" type="text/x-jquery-tmpl">
        <div class="card">
            <a class="image">
                <img src="${path}${uuidName}">
            </a>
            <div class="content">
                <div class="ui radio checkbox">
                    <input type="radio" name="image">
                    <label>${name}</label>
                </div>
            </div>
        </div>
    </script>
    <script id="bigImgItem" type="text/x-jquery-tmpl">
        <div class="item">
            <div class="ui segment">
                <img class="ui image" src="${imgUrl}">
                <div class="ui divider"></div>
                <div class="right floated compact ui red button">删除</div>
            </div>
        </div>
    </script>
</head>

<body class="admin-index">
    <div th:with="uri=${#httpServletRequest.requestURI}" th:fragment="sidebar-menu" class="ui left thin vertical inverted labeled icon sidebar menu ad-index-menu">
        <a th:classappend="(${#strings.contains(uri, '/admin/index')} or ${#strings.endsWith(uri,'/admin/')} or ${#strings.endsWith(uri,'/admin')}) ? 'active' : ''" class="item" th:href="@{/admin}" href="index.html"> <i class="home icon"></i> 门户主页
        </a>
        <a th:classappend="${#strings.contains(uri, '/admin/about')} ? 'active' : ''" class="item" th:href="@{/admin/about}" href="about.html"> <i class="info circle icon"></i> 关于我们
        </a>
        <a th:classappend="${#strings.contains(uri, '/admin/feature')} ? 'active' : ''" class="item" th:href="@{/admin/feature}" href="feature.html"> <i class="dashboard icon"></i> 疗法特色
        </a>
        <a th:classappend="${#strings.contains(uri, '/admin/case')} ? 'active' : ''" class="item" th:href="@{/admin/case}" href="case.html"> <i class="smile icon"></i> 康复案例
        </a>
        <a th:classappend="${#strings.contains(uri, '/admin/product')} ? 'active' : ''" class="item" th:href="@{/admin/product}" href="product.html"> <i class="idea icon"></i> 专利产品
        </a>
        <a th:classappend="${#strings.contains(uri, '/admin/env')} ? 'active' : ''" class="item" th:href="@{/admin/env}" href="env.html"> <i class="grid layout icon"></i> 店内环境
        </a>
        <a th:classappend="${#strings.contains(uri, '/admin/team')} ? 'active' : ''" class="item" th:href="@{/admin/team}" href="team.html"> <i class="doctor icon"></i> 专家团队
        </a>
        <a th:classappend="${#strings.contains(uri, '/admin/health')} ? 'active' : ''" class="item" th:href="@{/admin/health}" href="health.html"> <i class="heartbeat icon"></i> 脊柱健康
        </a>
        <a th:classappend="${#strings.contains(uri, '/admin/diagnose')} ? 'active' : ''" class="item" th:href="@{/admin/diagnose}" href="diagnose.html"> <i class="treatment icon"></i> 在线诊断
        </a>
        <a th:classappend="${#strings.contains(uri, '/admin/contact')} ? 'active' : ''" class="item" th:href="@{/admin/contact}" href="contact.html"> <i class="at icon"></i> 联系我们
        </a>
        <a th:classappend="${#strings.contains(uri, '/admin/resource')} ? 'active' : ''" class="item" th:href="@{/admin/resource}" href="resource.html"> <i class="file image outline icon"></i> 资源文件
        </a>
        <a th:classappend="${#strings.contains(uri, '/admin/article')} ? 'active' : ''" class="item" th:href="@{/admin/article}" href="article.html"> <i class="file text outline icon"></i> 文章管理
        </a>
    </div>
    <div th:fragment="top-fixed-menu" class="ui fixed inverted main menu">
        <div class="container">
            <a class="ui button icon item ad-index-btn-menu">
                <i class="content icon"></i> 菜单
            </a>
            <div class="title item">
                <b>立恒脊柱</b> - 后台管理
            </div>
            <div class="right menu">
                <div class="item ui button ad-item-feedback">
                    <div class="" th:attrappend="data-url=${#httpServletRequest.requestURI}">反馈 </div>
                    <form class="hidden" th:action="@{/admin/feedback}" action="" method="post">
                        <input type="hidden" name="url" value="" th:value="${#httpServletRequest.requestURI}" />
                        <input type="hidden" name="name" value="" />
                    </form>
                </div>
                <div class="item ui button">
                    <div class="ad-index-logout">退出 </div>
                    <form class="hidden" th:action="@{/admin/logout}" action="" method="post"></form>
                </div>
            </div>
        </div>
    </div>
    <div class="pusher ad-index-content">
        <div class="ad-index-container">
            <div th:fragment="rail-menu" class="ui dividing close left rail ad-index-rail" style="width:210px;">
                <div class="ui sticky ad-index-sticky">
                    <div th:with="uri=${#httpServletRequest.requestURI}" class="ui vertical pointing menu">
                        <a th:classappend="(${#strings.contains(uri, '/admin/index')} or ${#strings.endsWith(uri,'/admin/')} or ${#strings.endsWith(uri,'/admin')}) ? 'active' : ''" class="item" th:href="@{/admin}" href="index.html">
                            <i class="home icon"></i> 门户主页
                        </a>
                        <a th:classappend="${#strings.contains(uri, '/admin/about')} ? 'active' : ''" class="item" th:href="@{/admin/about}" href="about.html">
                            <i class="info circle icon"></i> 关于我们
                        </a>
                        <a th:classappend="${#strings.contains(uri, '/admin/feature')} ? 'active' : ''" class="item" th:href="@{/admin/feature}" href="feature.html">
                            <i class="dashboard icon"></i> 疗法特色
                        </a>
                        <a th:classappend="${#strings.contains(uri, '/admin/case')} ? 'active' : ''" class="item" th:href="@{/admin/case}" href="case.html">
                            <i class="smile icon"></i> 康复案例
                        </a>
                        <a th:classappend="${#strings.contains(uri, '/admin/product')} ? 'active' : ''" class="item" th:href="@{/admin/product}" href="product.html">
                            <i class="idea icon"></i> 专利产品
                        </a>
                        <a th:classappend="${#strings.contains(uri, '/admin/env')} ? 'active' : ''" class="item" th:href="@{/admin/env}" href="env.html">
                            <i class="grid layout icon"></i> 店内环境
                        </a>
                        <a th:classappend="${#strings.contains(uri, '/admin/team')} ? 'active' : ''" class="item" th:href="@{/admin/team}" href="team.html">
                            <i class="doctor icon"></i> 专家团队
                        </a>
                        <a th:classappend="${#strings.contains(uri, '/admin/health')} ? 'active' : ''" class="item" th:href="@{/admin/health}" href="health.html">
                            <i class="heartbeat icon"></i> 脊柱健康
                        </a>
                        <a th:classappend="${#strings.contains(uri, '/admin/diagnose')} ? 'active' : ''" class="item" th:href="@{/admin/diagnose}" href="diagnose.html">
                            <i class="treatment icon"></i> 在线诊断
                        </a>
                        <a th:classappend="${#strings.contains(uri, '/admin/contact')} ? 'active' : ''" class="item" th:href="@{/admin/contact}" href="contact.html">
                            <i class="at icon"></i> 联系我们
                        </a>
                        <a th:classappend="${#strings.contains(uri, '/admin/resource')} ? 'active' : ''" class="item" th:href="@{/admin/resource}" href="resource.html">
                            <i class="file image outline icon"></i> 资源文件
                        </a>
                        <a th:classappend="${#strings.contains(uri, '/admin/article')} ? 'active' : ''" class="item" th:href="@{/admin/article}" href="article.html">
                            <i class="file text outline icon"></i> 文章管理
                        </a>
                    </div>
                </div>
            </div>
            <div class="ui styled fluid accordion">
                <div class="title">
                    <i class="dropdown icon"></i> 主页 - 使用指导
                </div>
                <div class="content">
                    <p>A dog is a type of domesticated animal. Known for its loyalty and faithfulness, it can be found as a welcome guest in many households across the world.</p>
                </div>
            </div>
            <h2 class="ui header">
              <i class="settings icon"></i>
              <div class="content">
                主页设置
                <div class="sub header">设置门户主页各模块的内容</div>
              </div>
            </h2>
            <div class="ui styled fluid accordion">
                <div class="active title">
                    <i class="dropdown icon"></i> 轮动图
                </div>
                <div class="active content">
                    <div class="ui segment">
                        <div class="ui primary button ad-add-image">添加</div>
                    </div>
                    <div class="ui divided list big-img-list" th:remove="all-but-first">
                        <div class="item" th:each="bigImg : ${bigImgs}">
                            <div class="ui segment">
                                <img class="ui image" th:src="${bigImg.imgUrl}">
                                <div class="ui divider"></div>
                                <div class="right floated compact ui red button">删除</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="title">
                    <i class="dropdown icon"></i> 热门动态
                </div>
                <div class="content">
                    <p>There are many breeds of dogs. Each breed varies in size and temperament. Owners often select a breed of dog that they find to be compatible with their own lifestyle and desires from a companion.</p>
                </div>
                <div class="title">
                    <i class="dropdown icon"></i> 更多动态
                </div>
                <div class="content">
                    <p>Three common ways for a prospective owner to acquire a dog is from pet shops, private owners, or shelters.</p>
                    <p>A pet shop may be the most convenient way to buy a dog. Buying a dog from a private owner allows you to assess the pedigree and upbringing of your dog before choosing to take it home. Lastly, finding your dog from a shelter, helps give a good home to a dog who may not find one so readily.</p>
                </div>
            </div>
        </div>
    </div>
    <!-- hidden form for getting csrf -->
    <form class="hidden ad-csrf">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
    </form>
    <!-- modal -->
    <div class="ui modal ad-images">
        <!-- <i class="close icon"></i> -->
        <div class="header">
            图片选择
        </div>
        <div class="content">
            <div class="ui cards grouped" th:remove="body">
                <div class="card">
                    <a class="image">
                        <img src="../../static/landing/img/img-b1.jpg">
                    </a>
                    <div class="content">
                        <div class="ui radio checkbox">
                            <input type="radio" name="image" checked="checked">
                            <label>图片1</label>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <a class="image">
                        <img src="../../static/landing/img/img-b2.jpg">
                    </a>
                    <div class="content">
                        <div class="ui radio checkbox">
                            <input type="radio" name="image" checked="checked">
                            <label>图片1</label>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <a class="image">
                        <img src="../../static/landing/img/img-b3.jpg">
                    </a>
                    <div class="content">
                        <div class="ui radio checkbox">
                            <input type="radio" name="image" checked="checked">
                            <label>图片1</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="actions">
            <div class="ui cancel negative button">取消</div>
            <div class="ui ok positive button">确定</div>
        </div>
    </div>
    <script type="text/javascript">
    jQuery(document).ready(function($) {
        window.imgSelectedCallback = function(imgUrl) {
            var m = [{
                imgUrl: imgUrl
            }];
            $("#bigImgItem").tmpl(m).appendTo($('.big-img-list'));

            // save to server db.
            $.post('admin/settings/save', {
                page:'index',
                module: 'bigImg',
                imgUrl: imgUrl
            }, function(data, textStatus, xhr) {
                if(data.success){
                    toastr.success('设置成功!');
                }else{
                    toastr.error('设置失败!');
                }
            });
        }
    });
    </script>
</body>

</html>
